<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechFit - Painel Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">TechFit Admin</a>
            <a href="../Tela inicial/inicial.html" class="btn btn-outline-light btn-sm">
                <i class="fa-solid fa-house"></i> Site
            </a>
        </div>
    </nav>

    <div class="container py-4">
        <div class="row g-3 mb-3">
            <div class="col-12">
                <div class="card bg-transparent border-0">
                    <div class="card-body p-0">
                        <ul class="nav nav-tabs" id="adminTabs" role="tablist"></ul>
                    </div>
                </div>
            </div>
        </div>

        <ul class="nav nav-tabs" id="adminTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab-unidades" data-bs-toggle="tab" data-bs-target="#pane-unidades" type="button" role="tab">Unidades</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-cursos" data-bs-toggle="tab" data-bs-target="#pane-cursos" type="button" role="tab">Cursos</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-planos" data-bs-toggle="tab" data-bs-target="#pane-planos" type="button" role="tab">Planos</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-usuarios" data-bs-toggle="tab" data-bs-target="#pane-usuarios" type="button" role="tab">Usuários</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-presencas" data-bs-toggle="tab" data-bs-target="#pane-presencas" type="button" role="tab">Presenças</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-logs" data-bs-toggle="tab" data-bs-target="#pane-logs" type="button" role="tab">Log</button>
            </li>
        </ul>

        <div class="tab-content pt-3">
            <div class="tab-pane fade show active" id="pane-unidades" role="tabpanel">
                <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
                    <h5 class="mb-0">Gerenciar Unidades</h5>
                    <div class="d-flex gap-2">
                        <input id="searchUnidades" class="form-control form-control-sm" placeholder="Buscar unidades..." style="width: 240px;">
                        <button class="btn btn-success" id="btnNovaUnidade"><i class="fa-solid fa-plus"></i> Nova Unidade</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-dark table-striped align-middle" id="tabelaUnidades">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Cidade</th>
                                <th>Bairro</th>
                                <th>Endereço</th>
                                <th>Telefone</th>
                                <th>Horário</th>
                                <th>Vagas</th>
                                <th>Matriz</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="tab-pane fade" id="pane-cursos" role="tabpanel">
                <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
                    <h5 class="mb-0">Gerenciar Cursos</h5>
                    <div class="d-flex gap-2">
                        <input id="searchCursos" class="form-control form-control-sm" placeholder="Buscar cursos..." style="width: 240px;">
                        <button class="btn btn-success" id="btnNovoCurso"><i class="fa-solid fa-plus"></i> Novo Curso</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-dark table-striped align-middle" id="tabelaCursos">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Categoria</th>
                                <th>Intensidade</th>
                                <th>Duração</th>
                                <th>Nível</th>
                                <th>Instrutor</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="tab-pane fade" id="pane-planos" role="tabpanel">
                <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
                    <h5 class="mb-0">Gerenciar Planos</h5>
                    <div class="d-flex gap-2">
                        <input id="searchPlanos" class="form-control form-control-sm" placeholder="Buscar planos..." style="width: 240px;">
                        <button class="btn btn-success" id="btnNovoPlano"><i class="fa-solid fa-plus"></i> Novo Plano</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-dark table-striped align-middle" id="tabelaPlanos">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Preço</th>
                                <th>Periodicidade</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="tab-pane fade" id="pane-usuarios" role="tabpanel">
                <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
                    <h5 class="mb-0">Gerenciar Usuários</h5>
                    <div class="d-flex gap-2">
                        <input id="searchUsuarios" class="form-control form-control-sm" placeholder="Buscar usuários..." style="width: 240px;">
                        <button class="btn btn-success" id="btnNovoUsuario"><i class="fa-solid fa-plus"></i> Novo Usuário</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-dark table-striped align-middle" id="tabelaUsuarios">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Plano</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="tab-pane fade" id="pane-presencas" role="tabpanel">
                <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
                    <h5 class="mb-0">Presenças por Semana</h5>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-light btn-sm" id="btnExportarPresencas"><i class="fa-solid fa-file-export"></i> Exportar</button>
                        <button class="btn btn-outline-danger btn-sm" id="btnLimparPresencas"><i class="fa-solid fa-eraser"></i> Limpar</button>
                    </div>
                </div>
                <div id="presencasAccordion" class="accordion accordion-flush"></div>
            </div>

            <div class="tab-pane fade" id="pane-logs" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0">Log de Auditoria</h5>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-light btn-sm" id="btnExportarLog"><i class="fa-solid fa-file-export"></i> Exportar</button>
                        <button class="btn btn-outline-danger btn-sm" id="btnLimparLog"><i class="fa-solid fa-eraser"></i> Limpar Log</button>
                    </div>
                </div>
                <div id="logsAccordion" class="accordion accordion-flush"></div>
            </div>
        </div>
    </div>

    <!-- Modal Unidade -->
    <div class="modal fade" id="modalUnidade" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Unidade</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formUnidade" class="row g-3">
                        <input type="hidden" name="id">
                        <div class="col-md-6">
                            <label class="form-label">Cidade</label>
                            <input name="cidade" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Bairro</label>
                            <input name="bairro" class="form-control" required>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Endereço</label>
                            <input name="endereco" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Telefone</label>
                            <input name="telefone" class="form-control" required>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Horário</label>
                            <input name="horario" class="form-control" value="24h">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Vagas</label>
                            <input name="vagas" type="number" min="0" class="form-control" value="50">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Imagem (URL)</label>
                            <input name="imagem" class="form-control" placeholder="../Imagens/limeira.jpg">
                        </div>
                        <div class="col-md-6 d-flex align-items-end">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="matriz" id="chkMatriz">
                                <label class="form-check-label" for="chkMatriz">Unidade Matriz</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="salvarUnidade">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Curso -->
    <div class="modal fade" id="modalCurso" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Curso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formCurso" class="row g-3">
                        <input type="hidden" name="id">
                        <div class="col-12">
                            <label class="form-label">Nome</label>
                            <input name="nome" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Categoria</label>
                            <select name="categoria" class="form-select">
                                <option value="forca">Força</option>
                                <option value="cardio">Cardio</option>
                                <option value="lutas">Lutas</option>
                                <option value="mente-corpo">Mente & Corpo</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Instrutor</label>
                            <input name="instrutor" class="form-control">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Intensidade</label>
                            <input name="intensidade" class="form-control" placeholder="Alta/Média/Baixa">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Duração</label>
                            <input name="duracao" class="form-control" placeholder="60 min">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Nível</label>
                            <input name="nivel" class="form-control" placeholder="Iniciante/Todos">
                        </div>
                        <div class="col-12">
                            <label class="form-label">Descrição</label>
                            <textarea name="descricao" rows="3" class="form-control"></textarea>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Imagem (URL)</label>
                            <input name="imagem" class="form-control" placeholder="../Imagens/musculacao.jpg">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="salvarCurso">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Plano -->
    <div class="modal fade" id="modalPlano" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Plano</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formPlano" class="row g-3">
                        <input type="hidden" name="id">
                        <div class="col-12">
                            <label class="form-label">Nome</label>
                            <input name="nome" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Preço (R$)</label>
                            <input name="preco" type="number" step="0.01" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Periodicidade</label>
                            <select name="periodicidade" class="form-select">
                                <option value="Mensal">Mensal</option>
                                <option value="Trimestral">Trimestral</option>
                                <option value="Semestral">Semestral</option>
                                <option value="Anual">Anual</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Descrição</label>
                            <textarea name="descricao" rows="3" class="form-control"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="salvarPlano">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Usuário -->
    <div class="modal fade" id="modalUsuario" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Usuário</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formUsuario" class="row g-3">
                        <input type="hidden" name="id">
                        <div class="col-12">
                            <label class="form-label">Nome</label>
                            <input name="nome" class="form-control" required>
                        </div>
                        <div class="col-12">
                            <label class="form-label">E-mail</label>
                            <input name="email" type="email" class="form-control" required>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Plano</label>
                            <select name="plano" class="form-select" id="selectPlanoUsuario">
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="salvarUsuario">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
        <div id="toastContainer"></div>
    </div>
    <script src="admin.js"></script>
</body>
</html>

